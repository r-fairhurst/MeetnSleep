{% load static %}
<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <meta http-equiv='X-UA-Compatible' content='IE=edge'>
        <title>Minute-Meet - Automatic Transcriber & Summarizer</title>
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <link rel='stylesheet' type='text/css' media='screen' href="{% static 'minuteMeet/home.css' %}">
        <script src="{% static 'minuteMeet/recordingPage/index.js' %}"></script>        
    </head>
    <body>
        <h1>Minute-Meet</h1>
        <h3>An Online and In-Person Meeting <strong>Transcriber and Summarizer</strong>, Powered by Python and AI</h3>
        <h4>Recording Page</h4>

        <div id="transcript-container">
            <h2>Live Transcript:</h2>
            <p id="live-transcript">Waiting for speech...</p>
        </div>

        <button id="start-recording">Start Recording</button>
        <button id="stop-recording">Stop Recording</button>
<!-- 
        <script>
            document.getElementById("start-recording-home").addEventListener("click", function() {
                const transcriptElement = document.getElementById("live-transcript");

                // Open a connection to the streaming endpoint
                const eventSource = new EventSource("/stream_transcription/");

                eventSource.onmessage = function(event) {
                    const data = JSON.parse(event.data);
                    transcriptElement.innerHTML += `<br> ${data.text}`;
                };

                document.getElementById("stop-recording").addEventListener("click", function() {
                    eventSource.close();
                });
            });
        </script> -->

    <script>
    document.getElementById("start-recording-home").addEventListener("click", function() {
        window.location.href = "/minuteMeet/recordingPage/"; // Redirects to the UI
    });
    </script>
        

    </body>
</html>
